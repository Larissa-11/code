{* SiriusC1: emittance 260pm.rad *} 
 
define lattice; 
energy = 3.000000;
dp = 1.0d-10; 
codeps = 1.0d-6; 
 dk = 1.0d-6;
meth   = 4;

{***** drift space *****} 
li              : drift, l = 3.584100;
lii             : drift, l = 0.127500;
l1              : drift, l = 0.220000;
l21             : drift, l = 0.085000;
l22             : drift, l = 0.170000;
lc11            : drift, l = 0.300000;
lc12            : drift, l = 0.170000;
lc21            : drift, l = 0.170000;
lc22            : drift, l = 0.140000;
lc31            : drift, l = 0.195000;
lc32            : drift, l = 0.170000;
lc41            : drift, l = 0.170000;
lc42            : drift, l = 0.240000;
ls              : drift, l = 0.150000;
lq              : drift, l = 0.190000;
lqh             : drift, l = 0.095000;
lb              : drift, l = 0.065000;
lbt             : drift, l = 0.055000;

{* MARKERS *}
mb1      : marker;
mb2      : marker;
mc       : marker;
mq1      : marker;
mq2      : marker;
mi       : marker;
inicio   : marker;
fim      : marker;

{** Quadrupole **}
nquad=8; {Number of slices}

qif             : quadrupole, l = 0.300000, k = 2.792295, n=nquad, method=meth;
qid             : quadrupole, l = 0.150000, k = -1.983292, n=nquad, method=meth;
qf1             : quadrupole, l = 0.300000, k = 1.981322, n=nquad, method=meth;
qf2             : quadrupole, l = 0.300000, k = 2.796983, n=nquad, method=meth;
qf3             : quadrupole, l = 0.300000, k = 2.913182, n=nquad, method=meth;
qf4             : quadrupole, l = 0.300000, k = 2.190628, n=nquad, method=meth;

{** bending **}
nbend = 20; {Number of slices}

b1e             : bending, l = 0.416540, t = 1.383270, k = -0.810000, 
                  t1 = 1.383270, t2 = 0.000000, gap = 0.00,n=nbend, method=meth;
b1s             : bending, l = 0.416540, t = 1.383270, k = -0.810000, 
                  t1 = 0.000000, t2 = 1.383270, gap = 0.00,n=nbend, method=meth;
b2e             : bending, l = 0.620133, t = 2.059370, k = -0.810000, 
                  t1 = 2.059370, t2 = 0.000000, gap = 0.00,n=nbend, method=meth;
b2s             : bending, l = 0.620133, t = 2.059370, k = -0.810000, 
                  t1 = 0.000000, t2 = 2.059370, gap = 0.00,n=nbend, method=meth;
b3              : bending, l = 0.426011, t = 1.414720, k = -0.810000, 
                  t1 = 0.707360, t2 = 0.707360, gap = 0.00,n=nbend, method=meth;
bcs      : multipole, l = 0.062697, t = 0.700000, t1 = 0.0000, t2 = 0.700000,
           hom = (2, 0.000,0,3,-18.930000,0), n=5, method=meth;
bce      : multipole, l = 0.062697, t = 0.700000, t1 = 0.7000, t2 = 0.00000,
           hom = (2, 0.000,0,3,-18.930000,0), n=5, method=meth;

mon             : marker;
ch              : corrector, horizontal, method=meth;
cv              : corrector, vertical, method=meth;
cs		: quadrupole, l = 0.01, k = 0.0000001, tilt=45, n=nquad, method=meth;


{** Sextupole **}
method4sextu = 4;
NqSx=5; {Number of slices}

sd              : sextupole, l = 0.150000, k = -174.514120, N = NqSx, method=method4sextu;
sf              : sextupole, l = 0.150000, k = 165.010378, N = NqSx, method=method4sextu;
s1              : sextupole, l = 0.150000, k = 34.345998, N = NqSx, method=method4sextu;
s2              : sextupole, l = 0.150000, k = -57.761034, N = NqSx, method=method4sextu;
s3              : sextupole, l = 0.150000, k = -37.190103, N = NqSx, method=method4sextu;
s4              : sextupole, l = 0.150000, k = -123.137212, N = NqSx, method=method4sextu;
s5              : sextupole, l = 0.150000, k = 146.156443, N = NqSx, method=method4sextu;

{* RF CAVITY *} 
cav: CAVITY, VOLTAGE=2.0d6, Frequency = 500d6, HARNUM=864;
 
 {* Build lattice structure *}
cor              :ch, cv;
disp_ins         :b1e, mb1, b1s, lc11, cor, lc11, sd, lc12, qf1, 
                  lqh, mon, lqh, sf, lq, qf2, lc21, s3, lc22, ch, 
                  lc22, b2e, mb2, b2s, lc31, cv, lc31, s4, lc32, 
                  qf3, lqh, mon, lqh, s5, lq, qf4, lc41, ch, ls, 
                  cv, lc42, b3, lb, mon, lb, bce, mc;
disp_cen         :mc, bcs, lb, lb, b3, lc42, ls, ch, lc41, qf4, 
                  lq, s5, lqh, mon, lqh, qf3, lc32, s4, lc31, cv, 
                  lc31, b2e, mb2, b2s, lc22, ch, lc22, s3, lc21, 
                  qf2, lq, sf, lqh, mon, lqh, qf1, lc12, sd, lc11, 
                  cor, lc11, b1e, mb1, b1s;
ins              :mi, li, mon, lbt, cs, s1, lii, ch, lii, qif, l1, qid, 
                  l21, mon, l21, s2, l22;
hsup_ins         :ins, disp_ins;
hsup_cen         :disp_cen, inv(ins);
sup              :hsup_ins, hsup_cen;
anel     : inicio, 20*sup, cav, fim;

{***** Define CELL structure ****} 
cell: anel, symmetry=1;
 
end;
